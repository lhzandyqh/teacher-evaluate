<template>
  <div class="app-container">
    <el-row>
      <div class="navigationBar">
        <el-tabs v-model="activeName" @tab-click="handleClick">
          <el-tab-pane label="一月" name="january">
            <el-row>
              <div class="formContainer">
                <teaching-jobs-table/>
              </div>
            </el-row>
            <el-row>
              <div class="formContainer">
                <education-jobs-table/>
              </div>
            </el-row>
            <el-row>
              <div class="formContainer">
                <class-situation-table/>
              </div>
            </el-row>
            <el-row>
              <div class="formContainer">
                <organize-activity-table/>
              </div>
            </el-row>
            <el-row>
              <div class="formContainer">
                <participate-education-table/>
              </div>
            </el-row>
            <el-row>
              <div class="formContainer">
                <guide-teacher-table/>
              </div>
            </el-row>
          </el-tab-pane>
          <el-tab-pane label="二月" name="february">
            <el-row>
              <div class="formContainer">
                <teaching-jobs-table/>
              </div>
            </el-row>
            <el-row>
              <div class="formContainer">
                <education-jobs-table/>
              </div>
            </el-row>
            <el-row>
              <div class="formContainer">
                <class-situation-table/>
              </div>
            </el-row>
            <el-row>
              <div class="formContainer">
                <guide-teacher-table/>
              </div>
            </el-row>
          </el-tab-pane>
          <el-tab-pane label="三月" name="march">三月</el-tab-pane>
          <el-tab-pane label="四月" name="april">四月</el-tab-pane>
          <el-tab-pane label="五月" name="may">五月</el-tab-pane>
          <el-tab-pane label="六月" name="june">六月</el-tab-pane>
          <el-tab-pane label="七月" name="july">七月</el-tab-pane>
          <el-tab-pane label="八月" name="august">八月</el-tab-pane>
          <el-tab-pane label="九月" name="september">九月</el-tab-pane>
          <el-tab-pane label="十月" name="october">十月</el-tab-pane>
          <el-tab-pane label="十一月" name="november">十一月</el-tab-pane>
          <el-tab-pane label="十二月" name="december">十二月</el-tab-pane>
        </el-tabs>
      </div>
    </el-row>
    <el-row>
      <el-button type="success" @click="getTeachJobTableData">成功按钮</el-button>
      <test-table/>
    </el-row>
  </div>
</template>

<script>
import workForm from '@/views/aTeacherGrow/teacherWorkForm/teacherWorkForm'
import teachingJobsTable from '@/views/aTeacherGrow/teacherWorkTable/teachingJobsTable'
import educationJobsTable from '@/views/aTeacherGrow/teacherWorkTable/educationJobTable'
import classSituationTable from '@/views/aTeacherGrow/teacherWorkTable/classSituationTable'
import organizeActivityTable from '@/views/aTeacherGrow/teacherWorkTable/organizeActivityTable'
import participateEducationTable from '@/views/aTeacherGrow/teacherWorkTable/participateEducationTable'
import guideTeacherTable from '@/views/aTeacherGrow/teacherWorkTable/guideTeacherTable'
import testTable from '@/views/aTeacherGrow/teacherWorkTable/testTable'
import { teachJobInquire } from '@/api/teacherGrow'
import { getToken } from '@/utils/auth'
export default {
  components: { workForm, teachingJobsTable, educationJobsTable, classSituationTable, organizeActivityTable, participateEducationTable, guideTeacherTable, testTable },
  data() {
    return {
      activeName: 'april',
      month: 'april',
      token: getToken(),
      teachJobData: []
    }
  },
  watch: {
    activeName: function(val) {
      console.log(val)
      // this.getTeachJobTableData
      // console.log(this.teachJobData)
      this.mouth = val
      console.log('mouth is ' + this.mouth)
    }
  },
  methods: {
    handleClick(tab, event) {
      // console.log(tab, event)
      // console.log(value)
      // this.getTeachJobTableData()
      // console.log(this.teachJobData)
    },
    getTeachJobTableData() {
      const prams = {
        month: this.month
      }
      teachJobInquire({ ...prams, token: this.token }).then(response => {
        // console.log(response.code)
        // if (response.data.teachWork.code === 200) {
        //   console.log(response.data.teachWork.code)
        //   console.log('获取成功')
        //   this.teachJobData = response.data.teachWork
        // } else {
        //   console.log(response.data.teachWork.code)
        //   console.log('获取失败')
        // }
        this.teachJobData = response.data.teachWork
        console.log(this.teachJobData)
      })
    }
  }
}
</script>

<style scoped>
  .navigationBar{
    text-align: center;
  }
  .el-tab-pane{
    font-size: 20px;
  }
  .formContainer{
    height: 100%;
    width: 100%;
  }
</style>
